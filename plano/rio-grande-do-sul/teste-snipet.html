<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (
      window.location.href.includes("/processes/rs-reconstrucao/f/95") ||
      window.location.href.includes("/processes/rs-reconstrucao/f/102")
    ) {
      var proposalAnnouncement = document.querySelector(
        ".proposals-announcement"
      );
      if (proposalAnnouncement) {
        proposalAnnouncement.style.display = "none";
      }

      var removeHomeButton = document.querySelector(
        ".space-menu > :first-child"
      );

      if (removeHomeButton) {
        removeHomeButton.style.display = "none";
      }

      var voting_rules = document.getElementById("voting_rules");

      if (voting_rules) {
        voting_rules.style.display = "none";
      }

      var showRulesButton = document.getElementById("showRulesButton");
      var labelTitulo = document.querySelector('label[for="proposal_title"]');
      if (labelTitulo) {
        labelTitulo.childNodes[0].nodeValue = "Título da Iniciativa";
      }
      var linkEnquete = document.createElement("a");
      linkEnquete.innerHTML = `<a href="/processes/rs-reconstrucao/f/101/" class="br-button secondary small" type="button">
        Cadastrar Iniciativas Governamentais
      </a>`;
      var proposalsActionsDiv = document.querySelector(".proposals-actions");
      if (proposalsActionsDiv) {
        proposalsActionsDiv.appendChild(linkEnquete);
      }
      const card_vazio = document.querySelector(".proposal-card");
      if (card_vazio) card_vazio.remove();
      var spanElement = document.querySelector(".create-proposal-text");
      if (spanElement) {
        spanElement.innerHTML =
          '<i class="fa-solid fa-plus fa-md"></i> Cadastrar minha iniciativa';
      }
      var labelTema = document.querySelector(
        'label[for="proposal_category_id"]'
      );
      if (labelTema) {
        labelTema.childNodes[0].nodeValue = "Categoria";
      }

      var selectElement = document.getElementById("proposal_category_id");

      if (selectElement) {
        selectElement.value = "94";
        selectElement.addEventListener("change", function () {
          document.getElementById("proposal_category_id_hidden").value =
            this.value;
        });
        var div_label = document.querySelector(".bp-select.input-highlight");
        div_label.style.display = "none";
      }

      var header = document.querySelector(".section-header-text");
      if (header) {
        header.innerHTML = "Cadastre a sua iniciativa";
      }
      var descricaoTextarea = document.getElementById("proposal_body");
      if (descricaoTextarea) {
        var preenchimento =
          "Nome da Iniciativa:\n\nOrganização responsável:\n\nContato Público (telefone e e-mail):\n\nComo a iniciativa busca mobilizar recursos e esforços coordenados para ajudar os afetados:";
        descricaoTextarea.value = preenchimento;
      }
      var helpText = document.querySelector(".help-new-proposal-header");
      if (helpText) {
        helpText.textContent =
          "Revise o seu conteúdo e tenha certeza que está tudo correto antes de publicar. Após a publicação, você poderá editar ou apagar a iniciativa somente se não tiver recebido nenhum comentário.";
      }
      var legendElement = document.querySelector(
        ".gallery__container.photos_container legend"
      );
      if (legendElement) {
        var currentText = legendElement.textContent;
        var updatedText = currentText.replace("à carta da proposta", "");
        legendElement.textContent = updatedText;
      }
      if (showRulesButton) {
        showRulesButton.remove();
      }
      const checkbox_location = document.getElementById("proposal_has_address");
      if (checkbox_location) {
        checkbox_location.checked = true;
      }
      function adicionarCampos() {
        var campoCidadeHTML = ` <div class="br-input input-highlight bp-input" id="cidade-id"> <label>Município: * <input type="text" name="cidade" placeholder="Digite o nome da cidade ou município"> </label> </div> `;
        var campoUFHTML = ` <div class="bp-select input-highlight" id="uf-id"> <label for="proposal_category_id">Estado: * <select name="uf" id="proposal_category_id"> <option value="">Selecione o seu estado...</option> <option value="Acre">Acre</option> <option value="Alagoas">Alagoas</option> <option value="Amapá">Amapá</option> <option value="Amazonas">Amazonas</option> <option value="Bahia">Bahia</option> <option value="Ceará">Ceará</option> <option value="Distrito Federal">Distrito Federal</option> <option value="Espírito Santo">Espírito Santo</option> <option value="Goiás">Goiás</option> <option value="Maranhão">Maranhão</option> <option value="Mato Grosso">Mato Grosso</option> <option value="Mato Grosso do Sul">Mato Grosso do Sul</option> <option value="Minas Gerais">Minas Gerais</option> <option value="Pará">Pará</option> <option value="Paraíba">Paraíba</option> <option value="Paraná">Paraná</option> <option value="Pernambuco">Pernambuco</option> <option value="Piauí">Piauí</option> <option value="Rio de Janeiro">Rio de Janeiro</option> <option value="Rio Grande do Norte">Rio Grande do Norte</option> <option value="Rio Grande do Sul">Rio Grande do Sul</option> <option value="Rondônia">Rondônia</option> <option value="Roraima">Roraima</option> <option value="Santa Catarina">Santa Catarina</option> <option value="São Paulo">São Paulo</option> <option value="Sergipe">Sergipe</option> <option value="Tocantins">Tocantins</option> </select> </label> </div> `;
        var ufContainer = document.createElement("div");
        ufContainer.classList.add("uf-container");
        ufContainer.innerHTML = campoCidadeHTML + campoUFHTML;
        var newProposalForm = document.querySelector(".new-proposal-form");
        if (newProposalForm) {
          newProposalForm.insertAdjacentElement("afterbegin", ufContainer);
        }
      }
      adicionarCampos();
      function atualizarEndereco() {
        var cidade = document.querySelector('input[name="cidade"]').value;
        var uf = document.querySelector('select[name="uf"]').value;
        var endereco = document.getElementById("proposal_address");
        endereco.value = cidade + ", " + uf;
      }

      var label = document.querySelector('label[for="proposal_has_address"]');
      if (label) {
        var parentElement = label.closest(".field");
        if (parentElement) parentElement.style.display = "none";
      }
      var addressField = document.getElementById("address_input");
      if (addressField) {
        addressField.style.display = "none";
      }
      const city = document.querySelector('input[name="cidade"]');
      if (city) city.addEventListener("input", atualizarEndereco);
      const uf_name = document.querySelector('select[name="uf"]');
      if (uf_name) uf_name.addEventListener("change", atualizarEndereco);
    }
  });
  document.addEventListener("DOMContentLoaded", function () {
    if (
      window.location.href.includes(
        "https://lab-decide.dataprev.gov.br/processes/conferencia-exemplo/f/784/meetings/"
      )
    ) {
      var containerButton = document.createElement("div");
      containerButton.setAttribute("class", "meeting-actions-buttons");
      var customButton = document.createElement("a");
      customButton.setAttribute(
        "class",
        "br-button secondary black-and-white-btn"
      );
      customButton.setAttribute(
        "href",
        "https://lab-decide.dataprev.gov.br/processes/conferencia-exemplo/f/789/"
      );
      customButton.textContent = "Registre o que aconteceu";
      var customButton1 = document.createElement("a");
      customButton1.setAttribute(
        "class",
        "br-button secondary black-and-white-btn"
      );
      customButton1.setAttribute(
        "href",
        "https://lab-decide.dataprev.gov.br/processes/conferencia-exemplo/f/796/"
      );
      customButton1.textContent = "Formalize a conferência";
      var exportButtons = document.querySelector(
        ".wrapper div.br-container-lg"
      );
      if (containerButton) {
        containerButton.appendChild(customButton);
        containerButton.appendChild(customButton1);
      }
      if (exportButtons) {
        var firstChild = exportButtons.firstChild;
        exportButtons.insertBefore(containerButton, firstChild);
      } else {
        console.error('Element with class "export-buttons" not found.');
      }
    }
  });
</script>
<style>
  .meeting-actions-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    flex-wrap: wrap;
  }
  div#address_input {
    visibility: hidden;
  }
  .uf-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
  }
  #uf-id,
  #cidade-id {
    flex: 1;
    width: 100%;
  }
  @media (min-width: 768px) {
    .uf-container {
      flex-direction: row;
    }
  }
</style>
